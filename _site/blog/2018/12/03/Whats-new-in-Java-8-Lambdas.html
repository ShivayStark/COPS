<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta content="A hands-on introduction to Java 8's most exciting new feature :sparkles:" name="description"> <meta name="keywords" content="Jekyll,gh-pages,website,blog,easy"> <meta name="author" content="Club of Programmers"> <meta name="baseurl" content=""> <title> COPS IIT(BHU) | What’s new in Java 8: Lambdas </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20190511.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20190511.min.js"></script> <script src="/static/assets/blog-20190511.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184620190511", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="http://localhost:4000/">COPS IIT(BHU)</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a> </li> <li> <a class="page-scroll" href="http://localhost:4000/">Home</a></li> <li> <a class="page-scroll" href="http://localhost:4000/blog/">Blog</a></li> <li> <a class="page-scroll" href="http://localhost:4000/resources/potw/">POTW</a></li> <li> <a class="page-scroll" href="http://localhost:4000/resources/csoc2019/">CSOC</a></li> <li> <a class="page-scroll" href="http://localhost:4000/resources/extravaganza2019/">Dev Extravaganza</a></li> </ul> </div> </div> </nav> </div> <div id="particles-js"></div> <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js" defer></script> <script type="text/javascript" src="http://localhost:4000/particles.js" defer></script> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/blog">Blog</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 3 Dec 2018</span> <h1> What’s new in Java 8: Lambdas </h1> </div> <h1 id="whats-new-in-java-8-lambdas-octocat">What’s new in Java 8: Lambdas :octocat:</h1> <h2 id="a-hands-on-introduction-to-java-8s-most-exciting-new-feature-sparkles">A hands-on introduction to Java 8’s most exciting new feature :sparkles:</h2> <blockquote> <p>By Yash Raj Bharti | Metallurgical engineering | 2018-12-03 <img src="https://upload.wikimedia.org/wikipedia/commons/f/f1/Greek_lc_lamda.png" alt="lambda" /></p> </blockquote> <p>Java 8 is here, and, with it, come lambdas. Although long overdue, lambdas are a remarkable new feature that could make us rethink our programming styles and strategies. In particular, they offer exciting new possibilities for functional programming.</p> <p>While lambdas are the most prominent addition to Java 8, there are many other new features, such as functional interfaces, virtual methods, class and method references, new time and date API, JavaScript support, and so on. In this post, I will focus mostly on lambdas and their associated features, as understanding this feature is a must for any Java programmer on-boarding to Java 8.</p> <p>All of the code examples mentioned in this post can be found in <a href="https://github.com/yashrajbharti/-/edit/master/Lambda.md">this github repo</a></p> <h2 id="what-are-lambdas-octocat">What are lambdas? :octocat:</h2> <p>Lambdas are succinctly expressed single method classes that represent behaviour. They can either be assigned to a variable or passed around to other methods just like we pass data as arguments.</p> <p>You’d think we’d need a new function type to represent this sort of expression. Instead, Java designers cleverly used existing interfaces with one single abstract method as the lambda’s type.</p> <p>Before we go into detail, let’s look at a few examples.</p> <ul> <li>Example Lambda Expressions</li> </ul> <p>Here are a few examples of lambda expressions:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Concatenating strings</span>
<span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">+</span><span class="n">s2</span><span class="o">;</span>

<span class="c1">// Squaring up two integers</span>
<span class="o">(</span><span class="n">i1</span><span class="o">,</span> <span class="n">i2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i1</span><span class="o">*</span><span class="n">i2</span><span class="o">;</span>

<span class="c1">// Summing up the trades quantity</span>
<span class="o">(</span><span class="n">Trade</span> <span class="n">t1</span><span class="o">,</span> <span class="n">Trade</span> <span class="n">t2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  <span class="n">t1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="n">t1</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">());</span>
  <span class="k">return</span> <span class="n">t1</span><span class="o">;</span>
<span class="o">};</span>

<span class="c1">// Expecting no arguments and invoking another method</span>
<span class="o">()</span> <span class="o">-&gt;</span> <span class="n">doSomething</span><span class="o">();</span>
</code></pre></div></div> <p>Have a look at them once again until you familiarize yourself with the syntax. It may seem a bit strange at first. We will discuss the syntax in the next section.</p> <p>You might wonder what the type is for these expressions. The type of any lambda is a functional interface, which we discuss below.</p> <h2 id="lambda-syntax-octocat">Lambda Syntax :octocat:</h2> <p>There is a special syntax to create and represent a lambda expression. Just like a normal Java method, a lambda expression has input arguments, a body, and an optional return value. This is illustrated here below:</p> <blockquote> <p>input arguments -&gt; body</p> </blockquote> <p>Each lambda expression has two parts separated by an arrow token: the left hand side is our method arguments, and the right hand side is what we do with those arguments (that is, applying business logic). The body can either be an expression or block of code, returning a result or void.</p> <p>So, in the first lambda expression, (String s1, String s2) → s1+s2, the left hand side of the arrow (→) token is our method argument list. The arguments to the method are supplied as two strings. Coming to the right hand side part, the logic that we are applying in the method is what we are expressing here.</p> <p>So, from our example, all we need to do is—given two strings, concatenate them up! Whatever logic we put in a method, can go here in this block. In our example, it is adding the both input arguments: s1+s2. The right hand side is the body where we can write statements, expressions, code blocks, calling other methods, etc.</p> <p>Lambda’s Type: the Functional Interface</p> <p>I briefly mentioned earlier that the type of a lambda is a functional interface. As Java is a strongly typed language, it is usually mandatory to declare types; otherwise, the compiler laughs at us. Note, however, that we omitted types when declaring the above lambda expressions. So, what is the type of a lambda expression? Is it a string, an object, or a new functional type?</p> <p>Fortunately, there is no new addition to the type system—the designers of Java did not introduce any special type to represent lambda expressions. Instead, they cleverly re-used the existing anonymous method strategy. We’re already familiar with anonymous classes, so picking up this new representation should be relatively straight forward.</p> <p>A functional interface is a special interface with one and only one abstract method. It is exactly the same as our normal interface, but with two additional characteristics:</p> <ul> <li>It has one and only one abstract method.</li> <li>It can be decorated with an optional @FunctionalInterface annotation to be used as a lambda expression. (this is strongly suggested) Java has numerous single method interfaces. These are all retrofitted, making them functional interfaces. If we want to create our own, all we need to do is to define an interface with one abstract method and stick a @FunctionalInterface annotation on top of it!</li> </ul> <p>For example, the following snippet defines an <strong>IAddable</strong> interface. This is a functional interface whose job is to simply add two identical items of type T.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">IAddable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="c1">// To add two objects</span>
    <span class="kd">public</span> <span class="n">T</span> <span class="nf">add</span><span class="o">(</span><span class="n">T</span> <span class="n">t1</span><span class="o">,</span> <span class="n">T</span> <span class="n">t2</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div> <p>Because this interface has one and only one abstract method and it is annotated with @FunctionalInterface, it can be used as a type for representing lambda functions.</p> <p>Below are some example representations that use the above IAddable functional interface here:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Our interface implementations using Lambda expressions</span>
<span class="c1">// Joining two strings—note the interface is a generic type</span>

<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringAdder</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">+</span><span class="n">s2</span><span class="o">;</span>

<span class="c1">// Squaring the number</span>
<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">square</span> <span class="o">=</span> <span class="o">(</span><span class="n">i1</span><span class="o">,</span> <span class="n">i2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">i1</span><span class="o">*</span><span class="n">i2</span><span class="o">;</span>

<span class="c1">// Summing up the trades quantity</span>
<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Trade</span><span class="o">&gt;</span> <span class="n">tradeAdder</span> <span class="o">=</span> <span class="o">(</span><span class="n">Trade</span> <span class="n">t1</span><span class="o">,</span> <span class="n">Trade</span> <span class="n">t2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  <span class="n">t1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="n">t1</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">());</span>
  <span class="k">return</span> <span class="n">t1</span><span class="o">;</span>
<span class="o">};</span>
</code></pre></div></div> <p>Note that the <strong>IAddable</strong> is a generic type interface, therefore we’re using it to add different types, as in the above example.</p> <p>To summarize, the lambda expression’s type is the functional interface that we intended to implement via the lambda expression.</p> <p>Once we have the implementations ready, we can use them in our class by simply invoking the respective method. See the example below, which shows how the above implementations are being used.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// A lambda expression for adding two strings.</span>
<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringAdder</span> <span class="o">=</span> <span class="o">(</span><span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">+</span><span class="n">s2</span><span class="o">;</span>

<span class="c1">// this method adds the two strings using the first lambda expression</span>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">addStrings</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">log</span><span class="o">(</span><span class="s">"Concatenated Result: "</span> <span class="o">+</span> <span class="n">stringAdder</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div> <p>Before we move on, let’s take a moment to understand what is achieved here. The noticeable thing is that we are now treating the business logic as a function that can be tossed around for execution. We can define numerous variations of the business logic on the fly (kind of!) without having to create and instantiate classes as we used to do before.</p> <p>Now that we understand a bit about lambda expressions and their types, let’s run through a complete example using lambdas. We’ll also compare and contrast with the pre-Java 8 version to understand the differences.</p> <h2 id="lambda-example-octocat">Lambda Example :octocat:</h2> <p>Our requirement is to create business logic for merging two trades issued by the same issuer. This example should solve the requirement by using both pre-Java 8 and Java 8 approaches.</p> <h3 id="pre-java-8-implementation-sparkles">Pre-Java 8 Implementation :sparkles:</h3> <p>Prior to Java 8, we were expected to implement the interface with concrete definitions, as shown in the test class below:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPreJava8</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Trade</span><span class="o">&gt;</span> <span class="n">tradeMerger</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Trade</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Trade</span> <span class="nf">add</span><span class="o">(</span><span class="n">Trade</span> <span class="n">t1</span><span class="o">,</span> <span class="n">Trade</span> <span class="n">t2</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">t1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="n">t1</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">());</span>
      <span class="k">return</span> <span class="n">t1</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">};</span>
<span class="o">}</span>
</code></pre></div></div> <p>Here, we created a concrete class implementing the interface and invoked the add method on the instantiated object. We used an anonymous strategy for creating the code shown above.</p> <p>Although the actual logic of merging the trades is our core logic, we are forced to do some additional tasks such as implementing the interface with a class identity, overriding the abstract method, creating an instance of it and finally doing something with the instance. This “excess baggage” has always attracted critics and made developers uneasy—it’s a lot of boiler plate code and meaningless implementations and instantiations for a piece of business logic.</p> <p>Once we have the instance of the class, we follow the usual process of invoking the respective methods on the instance, as shown below:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">IAddable</span> <span class="n">addable</span> <span class="o">=</span> <span class="o">....;</span>

<span class="n">Trade</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Trade</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"GOOG"</span><span class="o">,</span> <span class="mi">12000</span><span class="o">,</span> <span class="s">"NEW"</span><span class="o">);</span>
<span class="n">Trade</span> <span class="n">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Trade</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"GOOG"</span><span class="o">,</span> <span class="mi">24000</span><span class="o">,</span> <span class="s">"NEW"</span><span class="o">);</span>

<span class="c1">// using the conventional anonymous class..</span>
<span class="n">Trade</span> <span class="n">mergedTrade</span> <span class="o">=</span> <span class="n">tradeMerger</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">t1</span><span class="o">,</span><span class="n">t2</span><span class="o">);</span>
</code></pre></div></div> <p>The business logic is intertwined with the technical garbage. The core logic is very much tied to the implementing class. For example, instead of returning a merged trade as in the above case, if I may have to compare and return the big trade, I have to sigh a bit, grab a coffee, sneeze loudly, moan, groan and roll up my sleeves and get ready to rewrite the code logic.</p> <p>Note also that all our test cases will start failing too once we change the logic!</p> <p>What if I have to support dozens of such requirements? Well, either I have to hack the current method to create the additional logic path using a control statement (if-else or switch) or create a new class for each piece of logic. Tightly coupling your business logic to its implementing class is asking for trouble—especially if we have fickle-minded business analysts and project managers. Surely there must be a better way to make it work.</p> <h2 id="java-8-implementation-octocat">Java 8 Implementation :octocat:</h2> <p>Creating multiple behaviors using anonymous classes is not impossible, but it’s not ideal. We can simplify this problem by using lambda functions to represent various behaviors. So, for example, we can write a lambda expression to sum up the trade’s quantities, another for returning a large trade, another expression for encrypting trade data, etc. All we do is write a lambda expression for each of the requirements and send it over to the class that expects the lambda.</p> <p>For example, take a look at this list of lambda expressions for our requirements:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Summing up the trades quantity</span>
<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Trade</span><span class="o">&gt;</span> <span class="n">aggregatedQty</span> <span class="o">=</span> <span class="o">(</span><span class="n">t1</span><span class="o">,</span> <span class="n">t2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  <span class="n">t1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="n">t1</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">+</span> <span class="n">t2</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">());</span>
  <span class="k">return</span> <span class="n">t1</span><span class="o">;</span>
<span class="o">};</span>

<span class="c1">// Return a large trade</span>
<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Trade</span><span class="o">&gt;</span> <span class="n">largeTrade</span> <span class="o">=</span> <span class="o">(</span><span class="n">t1</span><span class="o">,</span> <span class="n">t2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
 <span class="k">if</span> <span class="o">(</span><span class="n">t1</span><span class="o">.</span><span class="na">getQuantity</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">1000000</span><span class="o">)</span>
   <span class="k">return</span> <span class="n">t1</span><span class="o">;</span>
 <span class="k">else</span>
   <span class="k">return</span> <span class="n">t2</span><span class="o">;</span>
<span class="o">};</span>

<span class="c1">// Encrypting the trades (Lambda uses an existing method)</span>
<span class="n">IAddable</span><span class="o">&lt;</span><span class="n">Trade</span><span class="o">&gt;</span> <span class="n">encryptTrade</span> <span class="o">=</span> <span class="o">(</span><span class="n">t1</span><span class="o">,</span> <span class="n">t2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">encrypt</span><span class="o">(</span><span class="n">t1</span><span class="o">,</span><span class="n">t2</span><span class="o">);</span>
<span class="n">As</span> <span class="n">you</span> <span class="n">can</span> <span class="n">see</span><span class="o">,</span> <span class="n">we</span> <span class="n">have</span> <span class="n">declared</span> <span class="n">lambdas</span> <span class="k">for</span> <span class="n">each</span> <span class="n">our</span> <span class="n">respective</span> <span class="n">functionalities</span><span class="o">.</span> <span class="n">The</span> <span class="n">method</span> <span class="n">can</span> <span class="n">now</span> <span class="n">be</span> <span class="n">modeled</span> <span class="n">to</span> <span class="n">expect</span> <span class="n">an</span> <span class="n">expression</span><span class="o">,</span> <span class="n">as</span> <span class="n">shown</span> <span class="nl">below:</span>


<span class="c1">//A generic method with an expected lambda</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">applyBehaviour</span><span class="o">(</span><span class="n">IAddable</span> <span class="n">addable</span><span class="o">,</span> <span class="n">Trade</span> <span class="n">t1</span><span class="o">,</span> <span class="n">Trade</span> <span class="n">t2</span><span class="o">){</span>
  <span class="n">addable</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">t1</span><span class="o">,</span> <span class="n">t2</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div> <p>Note that the method is generic enough that it can apply functionality to any two trades with the given behavior using the given lambda expression (the IAddable interface).</p> <p>Now, the client has the control of creating the behaviors and pass it on to the remote server for application of them. This way, the client cares about <em>what</em> to do, while the server cares about <em>how</em> to do it. As long as the interface is designed to accept the lambda expression, the client can create a number of those expressions according to its requirements and invoke the method.</p> <p>Before we sum up, let’s take an existing Runnable interface, which comes with lambda support, and see how it can be used.</p> <h2 id="runnable-functional-interface-octocat">Runnable Functional interface :octocat:</h2> <p>The most popular Runnable interface has one method, run, which takes no arguments and returns nothing. Perhaps the reasoning behind this is that a piece of logic is to be run in a separate thread to speed up the process.</p> <p>The new definition of Runnable interface, followed by an example implementation using an anonymous class, is given below:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// The functional interface</span>
<span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Runnable</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">();</span>
<span class="o">}</span>

<span class="c1">// example implementation</span>
<span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">sendAnEmail</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}).</span><span class="na">start</span><span class="o">();</span>
</code></pre></div></div> <p>As you can see the above way of creating and using the anonymous class is very verbose—and unsightly too. Apart from sendAnEmail() in the run method, everything else is redundant boilerplate code.</p> <p>The same Runnable can now be re-written to use a lambda expression, as shown below:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// The constructor now takes in a lambda</span>
<span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="n">sendAnEmail</span><span class="o">()</span> <span class="o">).</span><span class="na">start</span><span class="o">();</span>
</code></pre></div></div> <p>The lambda expression () → sendAnEmail() highlighted above is passed to the constructor of the thread. Note that this expression is effectively a piece of code (an instance of Runnable) that carries certain behavior (make sure to always send an email in a new thread).</p> <p>Looking at the expression, we can deduce the type of the lambda—in this case it is Runnable, as we all know that the thread constructor accepts a Runnable. If you’ve noticed the redefined interface definition, Runnable is now a functional interface and hence tagged with the @FunctionalInterface annotation. Now the lambda expression can be assigned to a class’s variable as Runnable r = () → sendAnEmail() just like how we declare and assign variables.</p> <p>This is the power of lambdas—they allow us to pass a behavior to a method, assigned to a variable (free floating) from another method, just like we do when passing arguments that carry data.</p> <p>Let’s suppose we have a server side class called AsyncManager whose sole purpose is to execute requests on different threads. It has a single method, runAsync, which accepts a Runnable, as shown below:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AsyncManager</span><span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">runAsync</span><span class="o">(</span><span class="n">Runnable</span> <span class="n">r</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="n">r</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>The client now has the ability to create a plethora of lambda expressions based on his requirements. For example, see the various lambda expressions that can be passed on to the server-side class:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">manager</span><span class="o">.</span><span class="na">runAsync</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Running in Async mode"</span><span class="o">));</span>
  <span class="n">manager</span><span class="o">.</span><span class="na">runAsync</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="n">sendAnEmail</span><span class="o">());</span>
  <span class="n">manager</span><span class="o">.</span><span class="na">runAsync</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">persistToDatabase</span><span class="o">();</span>
    <span class="n">goToMoon</span><span class="o">();</span>
    <span class="n">returnFromMars</span><span class="o">();</span>
    <span class="n">sendAnEmail</span><span class="o">();</span>
  <span class="o">});</span>
</code></pre></div></div> <h2 id="summary-octocat">Summary :octocat:</h2> <p>In this post, we learned about the biggest change Java has ever seen. Lambdas will certainly steer the direction of Java and make it more appealing to varied sections of the programmer community. :sparkles:</p> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">Java</button> <button class="btn btn-white btn-xs" type="button">New feature</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> <i class="fa fa-comments-o"> </i> <span class="disqus-comment-count" data-disqus-url="http://localhost:4000/blog/2018/12/03/Whats-new-in-Java-8-Lambdas.html">0</span> comments </div> </div> </div> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { var d = document, s = d.createElement('script'); s.src = '//iitbhu-cops.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-128283984-1', 'auto'); ga('require', ''); ga('send', 'pageview'); </script> <!-- GrowingIO --> <div class="github-ribbon"> <a href="https://github.com/COPS-IITBHU/cops-website" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; z-index: 9999; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"> <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path> <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path> <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path> </svg></a> <style> @media screen and (max-width: 768px) { .github-ribbon { display: none; } } .github-corner:hover .octo-arm { animation: octocat-wave 560ms ease-in-out } @keyframes octocat-wave { 0%, 100% { transform: rotate(0) } 20%, 60% { transform: rotate(-25deg) } 40%, 80% { transform: rotate(10deg) } } @media (max-width:500px) { .github-corner:hover .octo-arm { animation: none } .github-corner .octo-arm { animation: octocat-wave 560ms ease-in-out } } </style> </div> </body> </html>
